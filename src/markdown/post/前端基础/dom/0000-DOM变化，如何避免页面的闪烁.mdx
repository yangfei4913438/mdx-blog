---
index: 0
title: DOM变化，如何避免页面的闪烁
description: 比如说，有一个列表，你新增了一个元素，然后重新获取列表，界面会重新渲染，这时候有可能会导致页面闪烁。
author: 杨飞
tags: [前端基础, dom, 页面闪烁]
date: 2021-06-22 16:48:07
---

DOM变化，如何避免页面的闪烁。

比如说，有一个列表，你新增了一个元素，然后重新获取列表，界面会重新渲染，这时候有可能会导致页面闪烁。

还有一种情况是比较明显的，比如你拖拽了一个元素到另外一个地方，但是数据的改变，需要等待后台返回，所以用户拖拽完成后，看不到实时的变化。然后等了一小会才更新。

上面的这两种情况，其实是不能被接受的。

那么怎么来解决这种问题呢？

将数据修改设置为本地修改(redux或者setState)，而不是等服务端返回过来新的数据。

在修改的时候，需要将当前的值临时保存，如果服务器修改失败，那么在异常处理中，就要恢复原来的值。（当然了，回滚操作之前，需要提示用户修改失败了。）
