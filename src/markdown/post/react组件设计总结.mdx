---
dir: 前端
dirIndex: 1
subDir: 组件
subDirIndex: 1
index: 0
title: react组件设计总结
description: 好的组件设计，可以让你的工作事半功倍，写出的代码就是一种艺术品。
author: 杨飞
tags: [前端, react, 组件设计]
date: 2021-03-12 10:21:39
---

> 好的组件设计，可以让你的工作事半功倍，写出的代码就是一种艺术品。
>
> 不好的设计，会让你的代码编写痛苦万分，降低你对技术的兴趣，直至完全放弃，摸鱼水平日渐提升。


#### 一、工具人子组件（有利于写单元测试）
- 尽可能将组件拆分的细一些。
- 子组件的功能要具有单一性、原子性。
- 操作的只做操作，渲染的只做渲染，不要混杂。

#### 二、父组件掌控一切（有利于写单元测试，有利于维护）
- 所有的子组件的状态，子组件的操作方法，全部都是由顶层的父组件传入的。

#### 三、修改圣旨是不对的（有利于写单元测试，有利于维护）
- 子组件不要在中途修改父组件传入的数据，父组件传递的变量，在父组件之下全局唯一，禁止串改圣旨。

#### 四、子曰：“不在其位，不谋其政”。（有利于写单元测试，有利于维护）
- 单向数据流，是组件数据流转的黄金大道。
- 父组件大于天，一切的变动都要通知到父组件，不要私下搞什么小动作。
- 子组件内部，没有什么是不可告人的。
- 尤其禁止子组件内部，搞对内的数据监听，数据都是父组件掌控即可，子组件无需为数据的状态操心。
- 只要父组件一天没退位，子组件就始终都是太子，别总想着干皇帝的活，难不成想造反？

#### 五、全面谴责偷渡客（有利于写单元测试，有利于维护）
- 混入是一种很极端的编程手段，禁止一切形式的混入编码。
- 如果真的非改不可，请整个前端组开专题会讨论这个技术选型的必要性。
- 大家都认为只能如此的情况下，混入变量，整个项目全局唯一！！！

#### 六、方法起名全局唯一（有利于维护）
- 如果方法名称不唯一，你会发现查询一个方法的时候，一搜就是一大堆，根本没办法快速定位你需要的方法在哪里。
- 全局大量一致的方法，让后面维护的同学，非常痛苦。
- 都是搞技术的，内卷也就算，但至少给后人留条活路吧。
